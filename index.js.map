{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\n\n\nexport function getImagesByQuery(query) {\n\n    const API_key = '52541009-8475ad66b76bd384e4dad34fd';\n\n\n    const param = new URLSearchParams({\n        key: API_key,\n        q: query,\n        image_type: 'photo',\n        orientation: 'horizontal',\n        safesearch: 'true'\n    });\n\n    return axios.get(`https://pixabay.com/api/?${param}`);\n        \n    \n}\n\n","import SimpleLightbox from 'simplelightbox';\n// Додатковий імпорт стилів\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\n\nexport function createGallery(images) {\n\n    const list = document.querySelector('.gallery');\n    \n    const imagesElements = images.map(({ webformatURL, largeImageURL, tags, views, likes, comments, downloads }) => {\n        return `<li class=\"gallery-item\">\n        <a class=\"gallery-link\" href=\"${largeImageURL}\">\n           <img\n              class=\"gallery-image\"\n              src=\"${webformatURL}\"\n              alt=\"${tags}\"\n            />\n        </a>\n        <table class=\"gallery-item-desc\">\n         <tr>\n          <th>Likes</th>\n          <th>Views</th>\n          <th>Comments</th>\n          <th>Downloads</th>\n         </tr>\n         <tr>\n          <td>${likes}</td>\n          <td>${views}</td>\n          <td>${comments}</td>\n          <td>${downloads}</td>\n         </tr>\n        </table>\n       </li>`;\n    }).join('');\n\n    list.innerHTML = imagesElements;\n\n    \n        let gallery = new SimpleLightbox('.gallery a', {\n            captions: true,\n            captionsData: 'alt',\n            captionPosition: 'bottom',\n            captionDelay: 250,\n        });\n\n        gallery.on('show.simplelightbox', function (event) {\n            console.log(`opened image : ${event.target.querySelector('img').alt} :) `);\n        });\n    \n        gallery.refresh();\n    \n\n   \n\n\n}\n\nexport function clearGallery() {\n    const list = document.querySelector('.gallery');\n    \n    list.innerHTML = '';\n\n}\n\nexport function showLoader() {\n    const loader = document.querySelector('.loader');\n    \n    loader.classList.remove('hidden');\n}\n\nexport function hideLoader() {\n    const loader = document.querySelector('.loader');\n    \n    loader.classList.add('hidden');\n}","//import axios from 'axios';\nimport { getImagesByQuery } from './js/pixabay-api';\nimport { createGallery, clearGallery, showLoader, hideLoader } from './js/render-functions';\n\n// Описаний у документації\nimport iziToast from \"izitoast\";\n// Додатковий імпорт стилів\nimport \"izitoast/dist/css/iziToast.min.css\";\n\n\n\nconst form = document.querySelector('.form');\nconst input = document.querySelector('input');\nlet q;\n\nconst hanlderSubmit = function (event) {\n    event.preventDefault();\n    q = event.target.elements['search-text'].value.toLowerCase().trim();\n    if (q === '') {\n        alert('Fill your answer');\n    } else {\n        input.value = '';\n        showLoader();\n        clearGallery();\n        setTimeout(() => { //щоб лоудер хоч побачити ;)\n            getImagesByQuery(q)\n            .then(res => {\n                //console.log(res.data);\n                hideLoader();\n                if (res.data.hits.length === 0) {\n                     iziToast.error({\n                    message: 'Sorry, there are no images matching your search query. Please try again!',\n                     })\n                    //clearGallery();\n                    \n                } else {\n                    createGallery(res.data.hits);\n                }\n               \n            })\n            .catch(error => {\n                console.log(error);\n                //clearGallery();\n            })\n            \n        }, 2000);\n        // getImagesByQuery(q)\n        //     .then(res => {\n        //         console.log(res.data);\n        //         hideLoader();\n        //         if (res.data.hits.length === 0) {\n        //              iziToast.error({\n        //             message: 'Sorry, there are no images matching your search query. Please try again!',\n        //              })\n        //             clearGallery();\n                    \n        //         } else {\n        //             createGallery(res.data.hits);\n        //         }\n               \n        //     })\n        //     .catch(error => {\n        //         console.log(error);\n        //         clearGallery();\n        //     })\n\n    }\n    \n    \n};\n\n\nform.addEventListener('submit', hanlderSubmit);\n\n"],"names":["getImagesByQuery","query","API_key","param","axios","createGallery","images","list","imagesElements","webformatURL","largeImageURL","tags","views","likes","comments","downloads","gallery","SimpleLightbox","event","clearGallery","showLoader","hideLoader","form","input","q","hanlderSubmit","res","iziToast","error"],"mappings":"owBAGO,SAASA,EAAiBC,EAAO,CAEpC,MAAMC,EAAU,qCAGVC,EAAQ,IAAI,gBAAgB,CAC9B,IAAKD,EACL,EAAGD,EACH,WAAY,QACZ,YAAa,aACb,WAAY,MACpB,CAAK,EAED,OAAOG,EAAM,IAAI,4BAA4BD,CAAK,EAAE,CAGxD,CCdO,SAASE,EAAcC,EAAQ,CAElC,MAAMC,EAAO,SAAS,cAAc,UAAU,EAExCC,EAAiBF,EAAO,IAAI,CAAC,CAAE,aAAAG,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAS,IAC9F;AAAA,wCACyBL,CAAa;AAAA;AAAA;AAAA,qBAGhCD,CAAY;AAAA,qBACZE,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAWTE,CAAK;AAAA,gBACLD,CAAK;AAAA,gBACLE,CAAQ;AAAA,gBACRC,CAAS;AAAA;AAAA;AAAA,aAIpB,EAAE,KAAK,EAAE,EAEVR,EAAK,UAAYC,EAGb,IAAIQ,EAAU,IAAIC,EAAe,aAAc,CAC3C,SAAU,GACV,aAAc,MACd,gBAAiB,SACjB,aAAc,GAC1B,CAAS,EAEDD,EAAQ,GAAG,sBAAuB,SAAUE,EAAO,CAC/C,QAAQ,IAAI,kBAAkBA,EAAM,OAAO,cAAc,KAAK,EAAE,GAAG,MAAM,CACrF,CAAS,EAEDF,EAAQ,QAAO,CAMvB,CAEO,SAASG,GAAe,CAC3B,MAAMZ,EAAO,SAAS,cAAc,UAAU,EAE9CA,EAAK,UAAY,EAErB,CAEO,SAASa,GAAa,CACV,SAAS,cAAc,SAAS,EAExC,UAAU,OAAO,QAAQ,CACpC,CAEO,SAASC,GAAa,CACV,SAAS,cAAc,SAAS,EAExC,UAAU,IAAI,QAAQ,CACjC,CC/DA,MAAMC,EAAO,SAAS,cAAc,OAAO,EACrCC,EAAQ,SAAS,cAAc,OAAO,EAC5C,IAAIC,EAEJ,MAAMC,EAAgB,SAAUP,EAAO,CACnCA,EAAM,eAAc,EACpBM,EAAIN,EAAM,OAAO,SAAS,aAAa,EAAE,MAAM,cAAc,OACzDM,IAAM,GACN,MAAM,kBAAkB,GAExBD,EAAM,MAAQ,GACdH,IACAD,IACA,WAAW,IAAM,CACbnB,EAAiBwB,CAAC,EACjB,KAAKE,GAAO,CAETL,IACIK,EAAI,KAAK,KAAK,SAAW,EACxBC,EAAS,MAAM,CAChB,QAAS,0EAC7B,CAAsB,EAIFtB,EAAcqB,EAAI,KAAK,IAAI,CAG/C,CAAa,EACA,MAAME,GAAS,CACZ,QAAQ,IAAIA,CAAK,CAEjC,CAAa,CAEJ,EAAE,GAAI,EAwBf,EAGAN,EAAK,iBAAiB,SAAUG,CAAa"}