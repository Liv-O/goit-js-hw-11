{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\n\n\nexport function getImagesByQuery(query) {\n\n    const API_key = '52541009-8475ad66b76bd384e4dad34fd';\n\n\n    const param = new URLSearchParams({\n        key: API_key,\n        q: query,\n        image_type: 'photo',\n        orientation: 'horizontal',\n        safesearch: 'true'\n    });\n\n    return axios.get(`https://pixabay.com/api/?${param}`)\n        .then(res => {\n             return res.data.hits;\n               })\n        .catch(error => {\n                throw error;\n               \n        })\n        \n    \n}\n\n","import SimpleLightbox from 'simplelightbox';\n\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nlet gallery; \n\nexport function createGallery(images) {\n\n    const list = document.querySelector('.gallery');\n   \n    const imagesElements = images.map(({ webformatURL, largeImageURL, tags, views, likes, comments, downloads }) => {\n        return `<li class=\"gallery-item\">\n        <a class=\"gallery-link\" href=\"${largeImageURL}\">\n           <img\n              class=\"gallery-image\"\n              src=\"${webformatURL}\"\n              alt=\"${tags}\"\n            />\n        </a>\n        <table class=\"gallery-item-desc\">\n         <tr>\n          <th>Likes</th>\n          <th>Views</th>\n          <th>Comments</th>\n          <th>Downloads</th>\n         </tr>\n         <tr>\n          <td>${likes}</td>\n          <td>${views}</td>\n          <td>${comments}</td>\n          <td>${downloads}</td>\n         </tr>\n        </table>\n       </li>`;\n    }).join('');\n     \n    if (list) {\n        list.innerHTML = imagesElements;\n\n        if (!gallery) {\n\n            gallery = new SimpleLightbox('.gallery a', {\n                captions: true,\n                captionsData: 'alt',\n                captionPosition: 'bottom',\n                captionDelay: 250,\n            });\n\n        } else {\n            gallery.refresh();\n        }\n\n        gallery.on('show.simplelightbox', function (event) {\n            console.log(`opened image : ${event.target.querySelector('img').alt} :) `);\n        });\n    }\n    \n}\n\nexport function clearGallery() {\n    const list = document.querySelector('.gallery');\n    \n   if(list) list.innerHTML = '';\n\n}\n\nexport function showLoader() {\n    const loader = document.querySelector('.loader');\n    \n    if(loader) loader.classList.remove('hidden');\n}\n\nexport function hideLoader() {\n    const loader = document.querySelector('.loader');\n    \n    if(loader) loader.classList.add('hidden');\n}","\nimport { getImagesByQuery } from './js/pixabay-api';\nimport { createGallery, clearGallery, showLoader, hideLoader } from './js/render-functions';\n\n\nimport iziToast from \"izitoast\";\n\nimport \"izitoast/dist/css/iziToast.min.css\";\n\n\n\nconst form = document.querySelector('.form');\nconst input = document.querySelector('input');\nlet q;\n\nconst hanlderSubmit = function (event) {\n    event.preventDefault();\n    q = event.target.elements['search-text'].value.toLowerCase().trim();\n    if (q === '') {\n        iziToast.error({\n            message: 'Fill your answer',\n        });\n    } else {\n        input.value = '';\n        showLoader();\n        clearGallery();\n        getImagesByQuery(q)\n                .then(data => {\n                    if (data.length === 0) {\n                        iziToast.error({\n                            message: 'Sorry, there are no images matching your search query. Please try again!',\n                        });\n                    \n                        } else {\n                          createGallery(data);\n                        }\n               })\n                .catch(error => {\n                    iziToast.error({\n                        message: `Sorry, ${error}`,\n                    });\n               \n               })\n                .finally(() => {\n                hideLoader();\n               })\n    }\n        \n};\n\n\nform.addEventListener('submit', hanlderSubmit);\n\n"],"names":["getImagesByQuery","query","API_key","param","axios","res","error","gallery","createGallery","images","list","imagesElements","webformatURL","largeImageURL","tags","views","likes","comments","downloads","SimpleLightbox","event","clearGallery","showLoader","loader","hideLoader","form","input","q","hanlderSubmit","iziToast","data"],"mappings":"owBAGO,SAASA,EAAiBC,EAAO,CAEpC,MAAMC,EAAU,qCAGVC,EAAQ,IAAI,gBAAgB,CAC9B,IAAKD,EACL,EAAGD,EACH,WAAY,QACZ,YAAa,aACb,WAAY,MACpB,CAAK,EAED,OAAOG,EAAM,IAAI,4BAA4BD,CAAK,EAAE,EAC/C,KAAKE,GACMA,EAAI,KAAK,IACb,EACP,MAAMC,GAAS,CACR,MAAMA,CAEtB,CAAS,CAGT,CCtBA,IAAIC,EAEG,SAASC,EAAcC,EAAQ,CAElC,MAAMC,EAAO,SAAS,cAAc,UAAU,EAExCC,EAAiBF,EAAO,IAAI,CAAC,CAAE,aAAAG,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAS,IAC9F;AAAA,wCACyBL,CAAa;AAAA;AAAA;AAAA,qBAGhCD,CAAY;AAAA,qBACZE,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAWTE,CAAK;AAAA,gBACLD,CAAK;AAAA,gBACLE,CAAQ;AAAA,gBACRC,CAAS;AAAA;AAAA;AAAA,aAIpB,EAAE,KAAK,EAAE,EAENR,IACAA,EAAK,UAAYC,EAEZJ,EAUDA,EAAQ,QAAO,EARfA,EAAU,IAAIY,EAAe,aAAc,CACvC,SAAU,GACV,aAAc,MACd,gBAAiB,SACjB,aAAc,GAC9B,CAAa,EAMLZ,EAAQ,GAAG,sBAAuB,SAAUa,EAAO,CAC/C,QAAQ,IAAI,kBAAkBA,EAAM,OAAO,cAAc,KAAK,EAAE,GAAG,MAAM,CACrF,CAAS,EAGT,CAEO,SAASC,GAAe,CAC3B,MAAMX,EAAO,SAAS,cAAc,UAAU,EAE5CA,IAAMA,EAAK,UAAY,GAE7B,CAEO,SAASY,GAAa,CACzB,MAAMC,EAAS,SAAS,cAAc,SAAS,EAE5CA,GAAQA,EAAO,UAAU,OAAO,QAAQ,CAC/C,CAEO,SAASC,GAAa,CACzB,MAAMD,EAAS,SAAS,cAAc,SAAS,EAE5CA,GAAQA,EAAO,UAAU,IAAI,QAAQ,CAC5C,CCjEA,MAAME,EAAO,SAAS,cAAc,OAAO,EACrCC,EAAQ,SAAS,cAAc,OAAO,EAC5C,IAAIC,EAEJ,MAAMC,EAAgB,SAAUR,EAAO,CACnCA,EAAM,eAAc,EACpBO,EAAIP,EAAM,OAAO,SAAS,aAAa,EAAE,MAAM,cAAc,OACzDO,IAAM,GACNE,EAAS,MAAM,CACX,QAAS,kBACrB,CAAS,GAEDH,EAAM,MAAQ,GACdJ,IACAD,IACArB,EAAiB2B,CAAC,EACT,KAAKG,GAAQ,CACNA,EAAK,SAAW,EAChBD,EAAS,MAAM,CACX,QAAS,0EACrC,CAAyB,EAGCrB,EAAcsB,CAAI,CAE5C,CAAgB,EACC,MAAMxB,GAAS,CACZuB,EAAS,MAAM,CACX,QAAS,UAAUvB,CAAK,EAChD,CAAqB,CAErB,CAAgB,EACC,QAAQ,IAAM,CACfkB,GAChB,CAAgB,EAGhB,EAGAC,EAAK,iBAAiB,SAAUG,CAAa"}